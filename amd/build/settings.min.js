define ("mod_checkmark/settings",["jquery","core/log"],function(a,b){var c=function(){this.dividingSymbol=","};c.prototype.updateSettings=function(b){var c=0,d=0;b.data.stripper(b);var e="#id_grade_modgrade_point",f="#id_flexiblenaming",g="#id_examplegrades",h="#id_examplenames";if("point"!==a("#id_grade_modgrade_type").val()){return!0}if(a(f).prop("checked")){var j=new RegExp(b.data.dividingSymbol+"{2,}","g");a(g).val(a(g).val().replace(j,b.data.dividingSymbol));if("valuechange"!==b.type){var k=new RegExp("^"+b.data.dividingSymbol+"*|"+b.data.dividingSymbol+"*$","g");a(g).val(a(g).val().replace(k,""));a(h).val(a(h).val().replace(k,""))}var l=new RegExp("[^0-9"+b.data.dividingSymbol+"]"),m=a(g).val().replace(l,""),n=m.split(b.data.dividingSymbol);for(d=0;d<n.length;d++){if(""!==n[d].replace(/[^\d]/g,"")){c+=parseInt(n[d].replace(/[^\d]/g,""))}}}else{c=a("#id_examplecount").val()}if(!a(f).prop("checked")){if(0==a(e).val()%c){return!0}}if(100>=c&&0<c){a("#id_grade_modgrade_type").val("point");a(e).val(c)}else if(0>c){a("#id_grade_modgrade_type").val("scale")}return!0};c.prototype.stripper=function(b){if(null!==b&&46>=b.which){return!0}var c="#examplegrades";if(!a(c).length){c="#id_examplegrades"}var d=new RegExp("[^0-9"+b.data.dividingSymbol+"]","g");a(c).val(a(c).val().replace(d,""));return!0};var d=new c;d.initializer=function(c){d.dividingSymbol=c.dividingSymbol;b.info("Initialize settings JS","checkmark");var e="#id_examplegrades",f="#id_examplenames",g="#id_examplecount";a("#id_flexiblenaming").click(d,d.updateSettings);a("#id_grade_modgrade_type").change(d,d.updateSettings);a(e).change(d,d.updateSettings);a(f).change(d,d.updateSettings);a(g).change(d,d.updateSettings);a(e).blur(d,d.updateSettings);a(f).blur(d,d.updateSettings);a(g).blur(d,d.updateSettings);a(e).keyup(d,d.stripper);if("no"===a("input[name=allready_submit]").val()){d.updateSettings({data:d})}return!0};return d});
//# sourceMappingURL=settings.min.js.map
