define(["jquery","core/str"],function(a,b){var c,d=function(){this.baseurl=M.cfg.wwwroot+"/mod/checkmark/handlehideall.php"};return d.prototype.toggleExamples=function(a){a?this.getForAllExamples("false"):this.getForAllExamples("true")},d.prototype.getForAllExamples=function(b){var d=this.getExampleSelectors();a.ajax({url:c,data:{hide:b,columns:d},statusCode:{200:function(){var a=window.location.href;a=a.replace(/thide=[a-z0-9]+/,"").replace(/tshow=[a-z0-9]+/,"").replace(/\?&/,"?").replace(/&&/,"&").replace(/&$/,""),window.location.replace(a)}}})},d.prototype.getExampleSelectors=function(){var b=[];return a("th.colexample").each(function(){var c=a(this).attr("class"),d=c.split(" ");d.forEach(function(a){a.startsWith("example")&&b.push(a)})}),b},d.prototype.allExamplesCollapsed=function(){return 0===a("th.colexample > .commands").length},d.prototype.getBaseUrl=function(){return this.baseurl},d.prototype.clearPointerEventsFromIcons=function(){a(".fa-minus,.fa-plus").css("pointer-events","none")},{init:function(){var e=new d,f='<th><div id="showallcontainer">';f+='<a id="showall" href="javascript:void(0)"><i class="icon fa fa-plus fa-fw " id="showalltoggle"></i></a>',f+="</div></th>",a("th.timesubmitted").after(f);var g="<td></td>";a("td.timesubmitted").after(g);var h='<div id="hideallcontainer" style="position: absolute">';h+='<span id="hidealllabel" style="margin-right: 5px"></span>',h+='<a id="hideall" href="javascript:void(0);">',h+='<i class="icon fa fa-minus fa-fw " id="hidealltoggle"></i></a>',h+="</div><div>&nbsp;</div>",a("th.colexample:eq(0)").prepend(h);var i='<colgroup class="showall" span="1"><col></colgroup>';a("colgroup.timesubmitted").after(i);var j=[{key:"showalltoggle",component:"checkmark"},{key:"hidealltoggle",component:"checkmark"},{key:"strexamples",component:"checkmark"}];b.get_strings(j).then(function(b){a("#showall").prop("aria-label",b[0]).prop("title",b[0]),a("#hideall").prop("aria-label",b[1]).prop("title",b[1]),a("#hidealllabel").text(b[2])}),a("th.colexample").length>0&&!e.allExamplesCollapsed()?(a("#hideallcontainer").show(),a("#showallcontainer").hide()):(a("#hideallcontainer").hide(),a(".colexample").hide(),a("#showallcontainer").show(),a("colgroup.examples").hide()),a(document).ready(function(){a("#hideall").click(function(){e.toggleExamples(!1)}),a("#showall").click(function(){e.toggleExamples(!0)}),e.clearPointerEventsFromIcons()}),c=e.getBaseUrl()}}});