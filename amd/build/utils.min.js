define ("mod_checkmark/utils",["jquery","core/str"],function(a,b){var c=function(){this.baseurl=M.cfg.wwwroot+"/mod/checkmark/handlehideall.php"},d;c.prototype.toggleExamples=function(a){if(a){this.getForAllExamples("false")}else{this.getForAllExamples("true")}};c.prototype.getForAllExamples=function(b){var c=this.getExampleSelectors();a.ajax({url:d,data:{hide:b,columns:c},statusCode:{200:function _(){var a=window.location.href;a=a.replace(/thide=[a-z0-9]+/,"").replace(/tshow=[a-z0-9]+/,"").replace(/\?&/,"?").replace(/&&/,"&").replace(/&$/,"");window.location.replace(a)}}})};c.prototype.getExampleSelectors=function(){var b=[];a("th.colexample").each(function(){var c=a(this).attr("class"),d=c.split(" ");d.forEach(function(a){if(a.startsWith("example")){b.push(a)}})});return b};c.prototype.allExamplesCollapsed=function(){return 0===a("th.colexample > .commands").length};c.prototype.getBaseUrl=function(){return this.baseurl};c.prototype.clearPointerEventsFromIcons=function(){a(".fa-minus,.fa-plus").css("pointer-events","none")};return{init:function init(){var e=new c,f="<th><div id=\"showallcontainer\">";f+="<a id=\"showall\" href=\"javascript:void(0)\"><i class=\"icon fa fa-plus fa-fw \" id=\"showalltoggle\"></i></a>";f+="</div></th>";a("th.timesubmitted").after(f);a("td.timesubmitted").after("<td></td>");var g="<div id=\"hideallcontainer\" style=\"position: absolute\">";g+="<span id=\"hidealllabel\" style=\"margin-right: 5px\"></span>";g+="<a id=\"hideall\" href=\"javascript:void(0);\">";g+="<i class=\"icon fa fa-minus fa-fw \" id=\"hidealltoggle\"></i></a>";g+="</div><div>&nbsp;</div>";a("th.colexample:eq(0)").prepend(g);a("colgroup.timesubmitted").after("<colgroup class=\"showall\" span=\"1\"><col></colgroup>");b.get_strings([{key:"showalltoggle",component:"checkmark"},{key:"hidealltoggle",component:"checkmark"},{key:"strexamples",component:"checkmark"}]).then(function(b){a("#showall").prop("aria-label",b[0]).prop("title",b[0]);a("#hideall").prop("aria-label",b[1]).prop("title",b[1]);a("#hidealllabel").text(b[2])});if(0<a("th.colexample").length&&!e.allExamplesCollapsed()){a("#hideallcontainer").show();a("#showallcontainer").hide()}else{a("#hideallcontainer").hide();a(".colexample").hide();a("#showallcontainer").show();a("colgroup.examples").hide()}a(document).ready(function(){a("#hideall").click(function(){e.toggleExamples(!1)});a("#showall").click(function(){e.toggleExamples(!0)});e.clearPointerEventsFromIcons()});d=e.getBaseUrl()}}});
//# sourceMappingURL=utils.min.js.map
